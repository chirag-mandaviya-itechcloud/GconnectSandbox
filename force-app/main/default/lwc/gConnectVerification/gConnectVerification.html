<!--
   @description       :
   @author            : Dhruv Javiya
   @group             :
   @last modified on  : 14-04-2025
   @last modified by  : Dhruv Javiya
   -->
<template>
    <!-- Add the viewport meta tag here -->
    <div class="overrideStyle"></div>
    <template if:true={spinner}>
        <div class="slds-align--absolute-center">
            <lightning-spinner variant="brand" size="small"></lightning-spinner>
        </div>
    </template>
    <!-- ==================================== SC FLOW START =========================================================== -->
    <!-- 1. Login Screen -->
    <template if:true={signUpPage}>
        <div class="sign_up_sec">
            <div class="signUp">
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div>
                            <h2 class="title primaryContent">Welcome!</h2>
                            <div class="subtitle secondaryContent">Please enter your email address</div>
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Email" name="signUpEmail"
                            onchange={onchangeConfirmSave}></lightning-input>
                        <div style="color: red;">
                            {errorMessage}
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div class="slds-form-element">
                            <div class="slds-form-element__control">
                                <div class="slds-checkbox">
                                    <lightning-input class="checkboxInline" type="checkbox" name="GDPRStatement"
                                        checked={GDPRStatement} onchange={onchangeConfirmSave}
                                        id="checkbox-unique-id-81"></lightning-input>
                                    <label class="slds-checkbox__label" for="checkbox-unique-id-81">
                                        <span style="color: red;padding-right: 3px;">*</span>
                                        <span class="slds-form-element__label secondaryContent" onclick={opelGDPRModal}
                                            style="color: #2574A9 !important;text-decoration: underline;cursor: pointer;">GDPR
                                            Statement</span>
                                    </label>
                                </div>
                                <div style="color: red;" if:true={GDPRStatementError}>Please read the GDPR statment and
                                    verify it.</div>
                            </div>
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div class="slds-form-element">
                            <div class="slds-form-element__control">
                                <div class="slds-checkbox">
                                    <lightning-input class="checkboxInline termsandPrivacyValid" type="checkbox"
                                        name="signOffersNews" onchange={onchangeConfirmSave} id="checkbox-unique-id-82"
                                        checked={signOffersNews}></lightning-input>
                                    <label class="slds-checkbox__label" for="checkbox-unique-id-82">
                                        <span class="slds-form-element__label secondaryContent">Sign me up to receive
                                            updates, offers and news </span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div class="confirmbtn2">
                            <button onclick={callSignUp} class="confirmButton2">Confirm My Email</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
        <template if:true={opelGDPRModalSection}>
            <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01"
                class="slds-modal slds-fade-in-open gdpr_modal">
                <div class="slds-modal__container">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title="Close" onclick={closeModal}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" size="small"
                            onclick={closeGDPRModal} style="color: black;"></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <div class="slds-modal__header">
                        <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate" tabindex="-1">GDPR Statement
                        </h1>
                    </div>
                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                        <c-gdpr-statement-content></c-gdpr-statement-content>
                    </div>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
        </template>
    </template>
    <!-- 2. Basic Detail -->
    <template if:true={confirmBasicDetailsPage}>
        <div class="confirm_details_sec">
            <div class="confirmDetails">
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div>
                            <h2 class="title primaryContent">Confirm your details</h2>
                            <div class="subtitle Confirm your detail secondaryContent">Please enter your details to get
                                started
                            </div>
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="First Name" message-when-value-missing="Please add First Name"
                            required="true" max-length="255" type="text" class="confirmFirstName" name="firstName"
                            value={firstName} onchange={onchangeBasicDetails} disabled={editMode}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Last Name" message-when-value-missing="Please add Last Name"
                            required="true" max-length="255" type="text" class="confirmLastName" name="lastName"
                            value={lastName} onchange={onchangeBasicDetails} disabled={editMode}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Email" message-when-value-missing="Please add Youe Email"
                            required="true" type="email" class="confirmEmail" name="email" value={email}
                            onchange={onchangeBasicDetails} disabled={editMode}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="position: relative;">
                            <label style="font-size: 12px;">
                                <span style="color: red;padding-right: 3px;">*</span>
                                Phone
                            </label>
                            <div style="position: relative;">
                                <span
                                    style="position: absolute;z-index: 10;top: 0px;left: 0%;background: #b2b4c3d6;padding: 6px;border-top-left-radius: 8px;border-bottom-left-radius: 8px;">
                                    +44</span>
                                <lightning-input label="Phone" message-when-value-missing="Please add Your Phone"
                                    message-when-pattern-mismatch="Only numerical digits allowed!"
                                    variant="label-hidden" required="true" max-length="15" type="tel"
                                    class="confirmPhone" name="phone" value={phone} pattern="[0-9+]*"
                                    onchange={onchangeBasicDetails} disabled={editMode}>
                                </lightning-input>
                            </div>
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-combobox label="Preferred Language"
                            message-when-value-missing="Please add Preferred Language" required="true"
                            class="confirmPreferredLanguage" name="preferredLanguage" value={preferredLanguage}
                            options={prefferLanguageList} onchange={onchangeBasicDetails} disabled={editMode}>
                        </lightning-combobox>
                    </div>
                    <template if:true={showCortexNumber}>
                        <div
                            class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                            <lightning-input label="Cortex Number?" max-length="255" type="text" class="confirmCortexNo"
                                name="cortexNumber" value={cortexNumber} onchange={onchangeBasicDetails}
                                disabled={editMode}></lightning-input>
                        </div>
                    </template>
                </div>
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="End User" type="text" name="EndUser" value={endUser}
                            onchange={onchangeBasicDetails} disabled></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Depot" type="text" name="selectedDepot" value={selectedDepot}
                            onchange={onchangeBasicDetails} disabled></lightning-input>
                    </div>
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton" onclick={enableEditMode}>Edit</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmBasicDetails} class="confirmButton">Confirm</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
    </template>
    <!-- 3. Profile Picture Upload -->
    <template if:true={confirmProfilePicture}>
        <div class="confirm_details_sec">
            <div class="confirmDetails">
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div>
                            <h2 class="title primaryContent">Profile Picture</h2>
                            <div class="subtitle Confirm your detail secondaryContent">Please add your profile picture
                            </div>
                        </div>
                    </div>
                    <div style="text-align: center;"
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-button icon-name="utility:upload" variant="brand" class="fileBtn" name="uploadType"
                            label="File Upload" onclick={clickProfileUpload}>
                        </lightning-button>
                        <div style="color: red;" if:true={isProfilePicError}>Please upload Profile Picture</div>
                    </div>
                </div>
                <div class="slds-grid slds-wrap">
                    <div style="text-align: center;"
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <!-- Here Picture shows  -->
                        <template for:each={profileFiles} for:item="file">
                            <div key={file.id} class="items">
                                <template if:true={file.isImage}>
                                    <img src={file.preview} class="preview_image" />
                                </template>
                                <template if:false={file.isImage}>
                                    <p style="text-overflow: ellipsis; overflow: hidden;">File not applicable for
                                        preview</p>
                                </template>
                            </div>
                        </template>
                    </div>
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton" onclick={callBackButton} name="profilePicture">Back</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmProfilePicture} class="confirmButton">Next</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
    </template>
    <!-- 4. National Insurance Screen -->
    <template if:true={confirmNationalInsurancePage}>
        <div class="confirm_details_sec">
            <div class="confirmDetails">
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div>
                            <h2 class="title primaryContent">Identifiers</h2>
                            <div class="subtitle Confirm your detail secondaryContent">Please enter and verify the below
                                details</div>
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="National Insurance Number"
                            message-when-value-missing="Please add National Insurance Number" required="true"
                            class="insuranceNumber" max-length="9" type="text" name="nationalInsNumber"
                            value={nationalInsNumber} onchange={onchangeNIDetails}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Date of Birth" message-when-value-missing="Please add Date of Birth"
                            required="true" class="dateOfBirth" placeholder="DD/MM/YYYY" date-style="short" type="date"
                            name="dateOfBirth" value={dateOfBirth} onchange={onchangeNIDetails}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-combobox label="Nationality" message-when-value-missing="Please add Nationality"
                            required="true" class="nationality" name="nationality" value={nationality}
                            options={nationalityList} onchange={onchangeNIDetails}> </lightning-combobox>
                    </div>
                    <!-- <div
                  class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                  <lightning-input label="Driving Licence Number" max-length="18" type="text" name="licenseNumber"
                  onchange={onchangeNIDetails} value={licenseNumber} class=licenseNumber required="true"
                  message-when-value-missing="Please add Licence number"
                  placeholder="Licence Number"></lightning-input>
                  </div>
                  <div
                  class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                  <lightning-input label="Country of Issue" max-length="255" type="text" name="dlCountryIssue" value={dlCountryIssue}
                      onchange={onchangeNIDetails} required="true" class="countryValid"
                      message-when-value-missing="Please add Country of Issue"></lightning-input>
                  </div> -->
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton" onclick={callBackButton} name="identifiers">Back</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmNationalInsuranceDetails} class="confirmButton">Next</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
    </template>
    <!-- 5. Driving Licence Details -->
    <template if:true={confirmDrivingLicensePage}>
        <div class="confirm_details_sec">
            <div class="confirmDetails">
                <div class="slds-grid slds-wrap">
                    <!-- pattern="^[A-Z0-9]{5}\d[0156]\d([0][1-9]|[12]\d|3[01])\d[A-Z0-9]{3}[A-Z]{2}$"  // UK DL Code-->
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div>
                            <h2 class="title primaryContent">Driving Licence</h2>
                            <div class="subtitle Confirm your detail secondaryContent">Please enter your Driving Licence
                                details</div>
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-combobox label="Type of licence" name="typeOfLicense" class="typeOfLicense"
                            value={typeOfLicense} onchange={onChangeLicenseDetails} options={licenseTypes_option}
                            placeholder="Select Type" required="true"
                            message-when-value-missing="Please select"></lightning-combobox>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Driving Licence Number" max-length="18" type="text" name="licenseNumber"
                            onchange={onChangeLicenseDetails} value={licenseNumber} class=licenseNumber required="true"
                            message-when-value-missing="Please add Licence number"
                            placeholder="Licence Number"></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Points on Licence" type="text" name="pointOfLicense"
                            onchange={onChangeLicenseDetails} value={pointOfLicense} class=pointOfLicense
                            placeholder="Add points here"></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Licence Expiry Date"
                            message-when-value-missing="Please add Licence Expiry Date" required="true"
                            placeholder="DD/MM/YYYY" date-style="short" type="date" name="licenseExpiryDate"
                            class="licenseExpiryDate" onchange={onChangeLicenseDetails} max={maxDate}
                            value={licenseExpiryDate}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Licence Issue Date" message-when-value-missing="Please add Issue Date"
                            required="true" placeholder="DD/MM/YYYY" date-style="short" type="date"
                            name="licenseIssueDate" class="licenseIssueDate" onchange={onChangeLicenseDetails}
                            max={maxDate} value={licenseIssueDate}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <label class="slds-p-top_x-small"> Additional Licence Categories</label>
                        <div class="slds-p-around_xxx-small checkbox-inline">
                            <template if:true={licenseCategory_option}>
                                <template for:each={licenseCategory_option} for:item="cbOption">
                                    <lightning-input type="checkbox" label={cbOption.value} value={cbOption.value}
                                        key={cbOption.value} onchange={onChangeLicenseDetails}
                                        checked={cbOption.checked} class="cBox licenseCategory"
                                        name="licenseCategory"></lightning-input>
                                </template>
                            </template>
                        </div>
                        <div style="color: red;" if:true={showCboxCategoryError}>Please select at least one checkbox
                        </div>
                    </div>
                    <!-- show Validation error || 09-09-2025 -->
                    <!--div
                  class="editbtn slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                  <div style="color: red;text-align: center;font-size: medium;font-weight: bold;" if:true={showDrivingValidation}>{showDrivingValidationMessage}
                  </div>
                  </div-->
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton" onclick={callBackButton} name="drivingLicence">Back</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmDrivingLicense} class="confirmButton">Next</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
    </template>
    <!-- 6. Driving Licence Doc Upload -->
    <template if:true={confirmDLUploadPage}>
        <div class="confirm_details_sec">
            <div class="confirmDetails">
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div>
                            <h2 class="title primaryContent">Driving Licence Upload</h2>
                            <div class="subtitle Confirm your detail secondaryContent">Please add your Driving Licence
                                documents</div>
                        </div>
                    </div>
                    <div style="text-align: center;"
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-button icon-name="utility:upload" variant="brand" class="fileBtn" name="uploadType"
                            data-uploadtype="DL" label="File Upload" onclick={clickFrontBackUpload}>
                        </lightning-button>
                        <div style="color: red;" if:true={isDlDocError}>Please upload Driving Licence Documents</div>
                    </div>
                </div>
                <div class="slds-grid slds-wrap">
                    <div style="text-align: center;"
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_12-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <!-- Here Picture shows  -->
                        <template for:each={frontDLFiles} for:item="file">
                            <div key={file.id} class="items">
                                <template if:true={file.isImage}>
                                    <img src={file.preview} class="preview_imageDL" />
                                </template>
                                <template if:false={file.isImage}>
                                    <p style="text-overflow: ellipsis; overflow: hidden;">File not applicable for
                                        preview</p>
                                </template>
                            </div>
                        </template>
                    </div>
                    <div style="text-align: center;"
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_12-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <template for:each={backDLFiles} for:item="file">
                            <div key={file.id} class="items">
                                <template if:true={file.isImage}>
                                    <img src={file.preview} class="preview_imageDL" />
                                </template>
                                <template if:false={file.isImage}>
                                    <p style="text-overflow: ellipsis; overflow: hidden;">File not applicable for
                                        preview</p>
                                </template>
                            </div>
                        </template>
                    </div>
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton" onclick={callBackButton}
                                name="drivingLicenceUpload">Back</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmDLUploadDetails} class="confirmButton">Next</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
    </template>
    <!-- 7. OLD RTW Details -->
    <!-- <template if:true={confirmForm64Page}>
      <div class="confirm_details_sec">
         <div class="confirmDetails">
            <div class="slds-grid slds-wrap">
               this was part was already commented pattern="^[A-Z0-9]{5}\d[0156]\d([0][1-9]|[12]\d|3[01])\d[A-Z0-9]{3}[A-Z]{2}$"  // UK DL Code
               <div
                  class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                  <div>
                     <h2 class="title primaryContent">Right To Work</h2>
                     <div class="subtitle Confirm your detail secondaryContent">Please enter your RTW details</div>
                  </div>
               </div>
               <div
                  class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                  <lightning-combobox label="Right to Work Category" class="citi_Immi_status" name="citi_Immi_status"
                     value={citi_Immi_status} onchange={onChangeForm64Details} options={cIStatus_option}
                     placeholder="Select" required="true"
                     message-when-value-missing="Please select Right to Work Category"></lightning-combobox>
               </div>
               <template if:true={isRTWDoc}>
                  <div
                     class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <lightning-combobox label="Right To Work Document" class="rtwDoc" name="rtwDoc"
                        value={rtwDoc} onchange={onChangeForm64Details} options={rtw_option}
                        placeholder="Select" required="true"
                        message-when-value-missing="Please select RTW Document"></lightning-combobox>
                  </div>
               </template>
               <template if:true={showRTWExpiryDate}>
                  <div
                     class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <lightning-input label="Expiry Date" class="expiryDate"
                        message-when-value-missing="Please add Date of Expiry" required="true"
                        placeholder="DD/MM/YYYY" date-style="short" type="date" name="expiryDate"
                        onchange={onChangeForm64Details} max={maxDate} value={expiryDate}></lightning-input>
                  </div>
               </template>
               <template if:true={citizenshipIsEEU}>
                  <div
                     class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <lightning-input label="Date Of Entry" class="dateOfEntry"
                        message-when-value-missing="Please add Date of Entry" required="true"
                        placeholder="DD/MM/YYYY" date-style="short" type="date" name="dateOfEntry"
                        onchange={onChangeForm64Details} max={maxDate} value={dateOfEntry}></lightning-input>
                  </div>
                  <div
                     class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <lightning-combobox label="Settled status" class="settledStatus" name="settledStatus"
                        value={settledStatus} onchange={onChangeForm64Details} options={settledStatus_option}
                        placeholder="Select" required="true"
                        message-when-value-missing="Please select Settled status"></lightning-combobox>
                  </div>
                  <div
                     class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small biometric-radio">
                     <lightning-radio-group label="Biometric Evidence" name="biometricEvidence"
                        value={biometricEvidence} options={bioEvi_option} type="vertical"
                        onchange={onChangeForm64Details} required="true"
                        message-when-value-missing="Please add Sort Code"
                        class="lightning-radio-online biometricEvidence"></lightning-radio-group>
                     <div style="color: red;" if:true={showBioEviError}>Please select an option</div>
                  </div>
               </template>
               <template if:true={showAccessCode}>
                  <div
                     class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <lightning-input label="Access Code" max-length="9" type="text" name="accessCode"
                        class="accessCode" onchange={onChangeForm64Details} value={accessCode} required="true"
                        message-when-value-missing="Please add Access Code"
                        placeholder="984DZ5GHM"></lightning-input>
                  </div>
               </template>
            </div>
            <div class="slds-grid slds-wrap">
               <div
                  class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                  <div style="display: flex;justify-content: center;">
                     <button class="editButton" onclick={callBackButton} name="rtw">Back</button>
                  </div>
               </div>
               <div
                  class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                  <div style="display: flex;justify-content: center;">
                     <button onclick={callConfirmForm64} class="confirmButton">Next</button>
                  </div>
               </div>
            </div>
            <div class="power_by_logo"><img src={powerByLogo}></div>
         </div>
      </div>
   </template> -->
    <!-- 7. New RTW details -->
    <!-- 7. Right To Work -->
    <template if:true={confirmForm64Page}>
        <div class="connect-v2" style="padding-top: 35px; padding-bottom: 20px;">
            <div class="main">

                <div>
                    <div class="page-title">Right to Work</div>
                    <div class="page-subtitle">
                        Select the option that matches your citizenship or immigration status.
                    </div>
                </div>

                <!-- CATEGORY -->
                <div class="card">
                    <div class="card-body">

                        <div class="card-label">
                            Which of these applies to you?
                        </div>

                        <template for:each={categories} for:item="cat">
                            <div key={cat.id} data-id={cat.id} class={cat.cssClass} onclick={handleCategoryClick}>

                                <div class="category-radio">
                                    <div class="category-radio-inner"></div>
                                </div>

                                <div class="category-flag">
                                    {cat.flag}
                                </div>

                                <div class="category-content">
                                    <div class="category-name">
                                        {cat.label}
                                    </div>

                                    <template if:true={cat.description}>
                                        <div class="category-desc">
                                            {cat.description}
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </template>

                    </div>
                </div>

                <!-- IRISH INFO -->
                <template if:true={showIrishInfo}>
                    <div class="info-callout irish-info">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M12 16v-4"></path>
                            <path d="M12 8h.01"></path>
                        </svg>
                        <div>
                            {selectedCategory.infoMessage}
                        </div>
                    </div>
                </template>

                <!-- EVIDENCE -->
                <template if:true={showEvidence}>
                    <div class="card">
                        <div class="card-body">

                            <div class="evidence-label">
                                Which document will you provide?
                            </div>

                            <template for:each={evidenceList} for:item="doc">
                                <div key={doc.id} data-id={doc.id} class={doc.cssClass} onclick={handleEvidenceClick}>

                                    <div class="evidence-radio">
                                        <div class="evidence-radio-inner"></div>
                                    </div>

                                    <div class="evidence-content">
                                        <div class="evidence-name">
                                            {doc.name}
                                        </div>
                                        <div class="evidence-desc">
                                            {doc.description}
                                        </div>
                                    </div>
                                </div>
                            </template>

                        </div>
                    </div>
                </template>

                <!-- SHARE CODE -->
                <template if:true={showShareCode1}>
                    <div class="card">
                        <div class="card-body">
                            <div class="evidence-label">
                                Enter your share code
                            </div>

                            <div class="sharecode-note">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="8" x2="12" y2="12"></line>
                                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                </svg>

                                <div>
                                    {shareCodeData.line1}
                                    <br /><br />

                                    If you don't have one yet, go to&nbsp;
                                    <a href={shareCodeData.link} target="_blank">
                                        gov.uk/prove-right-to-work
                                    </a>
                                    to create one. Share codes are valid for 90 days.
                                </div>
                            </div>

                            <div style="margin-top: 16px;">
                                <input type="text" name="shareCode" class="shareCode" value={shareCode}
                                    onchange={onChangeForm64Details} placeholder="W12345678" maxlength="9" required
                                    style="width: 100%; padding: 12px; border: 1.5px solid #E2E6ED; border-radius: 8px; font-size: 15px; text-transform: uppercase; font-family: inherit;" />
                            </div>
                        </div>
                    </div>
                </template>

                <!-- NAVIGATION -->
                <!-- <div class="slds-grid slds-wrap">
                     <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                           <button class="editButton" onclick={callBackButton} name="rtw">Back</button>
                        </div>
                     </div>
                     <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                           <button onclick={callConfirmForm64} class="confirmButton">Next</button>
                        </div>
                     </div>
            </div> -->

                <div class="slds-grid slds-wrap" style="gap: inherit;">
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton" onclick={callBackButton} name="rtw">Back</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmForm64} class="confirmButton">Next</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo" style="max-width:480px; margin:0 auto;">
                    <img src={powerByLogo} alt="powered by" />
                </div>
            </div>
        </div>

    </template>
    <!-- UPLOAD SCREEN (SINGLE COMPONENT HANDLES BOTH MODES) -->
    <!-- <template if:true={showUploadScreen}>
      <template if:false={confirmForm64Page}>
        <c-rtw-upload
            document-type={currentUploadDocumentType}
            selected-rtw-option={selectedRTWOption}
            upload-mode={uploadMode}
            onback={handleUploadBack}
            onnext={handleUploadNext}>
        </c-rtw-upload>
        <div class="slds-grid slds-wrap">
              <div
                     class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <div style="display: flex;justify-content: center;">
                        <button class="editButton" onclick={callBackButton} name="rtwUpload">Back</button>
                     </div>
                  </div>
                  <div
                     class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <div style="display: flex;justify-content: center;">
                        <button onclick={callConfirmRTWUploadDetails} class="confirmButton">Next</button>
                     </div>
                  </div>
            </div>

            <div class="power_by_logo"><img src={powerByLogo}></div>
      </template>
    </template> -->


    <!-- 8. RTW Doc Upload -->
    <!-- <template if:true={showFileUploadCombo}>
      <template if:true={confirmRTWUploadPage}>
         <div class="confirm_details_sec">
            <div class="confirmDetails">
               <div class="slds-grid slds-wrap">
                  <div
                     class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <div>
                        <h2 class="title primaryContent">Right To Work Upload</h2>
                        <div class="subtitle Confirm your detail secondaryContent">Please add your RTW documents</div>
                     </div>
                  </div>
                  <div style="text-align: center;"
                     class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <lightning-button icon-name="utility:upload" variant="brand" class="fileBtn"
                        data-uploadtype="RTW" name="uploadType" label="File Upload"
                        onclick={clickFrontBackUpload}>
                     </lightning-button>
                     <div style="color: red;" if:true={isRtwDocError}>Please upload RTW Documents</div>
                  </div>
               </div>
               <div class="slds-grid slds-wrap">
                  <div style="text-align: center;"
                     class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">

                     <template for:each={RTWFiles} for:item="file">
                        <div key={file.id} class="items">
                           <template if:true={file.isImage}>
                              <img src={file.preview} class="preview_image" />
                           </template>
                           <template if:false={file.isImage}>
                              <p style="text-overflow: ellipsis; overflow: hidden;">File not applicable for preview</p>
                           </template>
                        </div>
                     </template>
                  </div>
                  <div
                     class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <div style="display: flex;justify-content: center;">
                        <button class="editButton" onclick={callBackButton} name="rtwUpload">Back</button>
                     </div>
                  </div>
                  <div
                     class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <div style="display: flex;justify-content: center;">
                        <button onclick={callConfirmRTWUploadDetails} class="confirmButton">Next</button>
                     </div>
                  </div>
               </div>
               <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
         </div>
      </template>
   </template> -->
    <!-- 
     MAIN COMPONENT TEMPLATE
     Add this block where your confirmRTWUploadPage sits.
     Back + Next buttons live here in the parent.
 -->

    <!-- RTW UPLOAD SCREEN -->
    <template if:true={confirmRTWUploadPage}>
        <div class="connect-v2">
            <div class="main" style="display: block;">

                <!-- child handles ALL upload / camera UI -->
                <c-rtw-upload record-id={recordId} upload-mode={uploadMode} document-type={currentUploadDocumentType}
                    selected-rtw-option={selectedRTWOption} rtw-files={RTWFiles}>
                </c-rtw-upload>

                <!-- error message
               <template if:true={isRtwDocError}>
                  <div class="slds-p-horizontal_medium slds-p-bottom_small"
                     style="color:red; max-width:480px; margin:0 auto;">
                     Please upload the required document(s) before continuing.
                  </div>
               </template> -->

                <!--  Back / Next buttons  -->
                <!-- <div class="slds-grid slds-wrap">
                  <div class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12
                              slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <div style="display:flex; justify-content:center;">
                           <button class="editButton"
                                 onclick={callBackButton}
                                 name="rtwUpload">Back</button>
                     </div>
                  </div>
                  <div class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12
                              slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                     <div style="display:flex; justify-content:center;">
                           <button class="confirmButton"
                                 onclick={callConfirmRTWUploadDetails}>Next</button>
                     </div>
                  </div>
               </div> -->
                <div class="slds-grid slds-wrap" style="gap: inherit;">
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton" onclick={callBackButton} name="rtwUpload">Back</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmRTWUploadDetails} class="confirmButton">Next</button>
                        </div>
                    </div>
                </div>

                <div class="power_by_logo" style="max-width:480px; margin:0 auto;">
                    <img src={powerByLogo} alt="powered by" />
                </div>

            </div>
        </div>
    </template>
    <!-- 9. VAT and UTR Details -->
    <template if:true={confirmGovtGatewayDetailspage}>
        <div class="confirm_details_sec2">
            <div class="confirmDetails2">
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div>
                            <h2 class="title primaryContent">VAT and UTR</h2>
                            <div class="subtitle Confirm your detail secondaryContent">Please enter below VAT and UTR
                                details.</div>
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-combobox label="Do you Have Tax Reference(UTR) Number?" name="uniqueTaxRefNumber"
                            value={uniqueTaxRefNumber} options={questions} onchange={onchangeGovtGatewayDetails}>
                        </lightning-combobox>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="UTR Number Entry" max-length="10" pattern="[0-9]{10}" type="text"
                            message-when-value-missing="Please add UTR Number"
                            message-when-pattern-mismatch="Please enter exactly 10 Numerical Digits" required="true"
                            class="URTNumberEntry" name="URTNumberEntry" value={URTNumberEntry}
                            onchange={onchangeGovtGatewayDetails} disabled={isUTREntryDisabled}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-combobox label="Do you Have a VAT Number?" name="VATNumber" value={VATNumber}
                            options={questions} onchange={onchangeGovtGatewayDetails}> </lightning-combobox>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="VAT Number Entry" max-length="9" type="text"
                            message-when-value-missing="Please add VAT Number" pattern="[0-9]{9}"
                            message-when-pattern-mismatch="Please enter exactly 9 Numerical Digits" required="true"
                            class="VATNumberEntry" name="VATNumberEntry" value={VATNumberEntry}
                            onchange={onchangeGovtGatewayDetails} disabled={isVATEntryDisabled}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-combobox label="Do you Know your Govt Gateway Details?" name="KnowGovtGatewayDetails"
                            value={KnowGovtGatewayDetails} options={questions} onchange={onchangeGovtGatewayDetails}>
                        </lightning-combobox>
                    </div>
                </div>
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input disabled={isGovDetDisabled} label="Govt Gateway UserName" max-length="255"
                            type="text" message-when-value-missing="Please add Govt Gateway UserName" required="true"
                            class="govtGatewayUsername" name="govtGatewayUsername" value={govtGatewayUsername}
                            onchange={onchangeGovtGatewayDetails}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input disabled={isGovDetDisabled} label="Govt Gateway Password" max-length="255"
                            type="text" message-when-value-missing="Please add Govt Gateway Password" required="true"
                            class="govtGatewayPassword" name="govtGatewayPassword" value={govtGatewayPassword}
                            onchange={onchangeGovtGatewayDetails}></lightning-input>
                    </div>
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton margin_right_10" onclick={callBackButton}
                                name="govtgateway">Back</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmGovtGatewayDetails} class="confirmButton">Confirm</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
    </template>
    <!-- 10. Address Details -->
    <template if:true={confirmAddressDetailsPage}>
        <div class="confirm_details_sec2 address_screen_section">
            <div class="confirmDetails2 address_screen_part">
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div>
                            <h2 class="title primaryContent">Address Information</h2>
                            <div class="subtitle Confirm your detail secondaryContent">Please provide 3 years of address
                                history</div>
                        </div>
                    </div>
                    <!-- <div
                  class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium">
                  Please provide 3 years of address history
                  </div> -->
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Address Line 1" max-length="255" type="text" name="addressLine1"
                            value={addressLine1} onchange={onchangeAddressDetails} required="true" class="address1Valid"
                            message-when-value-missing="Please add Address 2"></lightning-input>
                        <template if:true={showCurrentAddress}>
                            <ul class="addressdropdown">
                                <template for:each={currentAddressOptions} for:item="address">
                                    <li class="slds-dropdown__item" key={address.value} data-value={address.value}
                                        onclick={handleCurrentAddressSelection}>
                                        {address.label}
                                    </li>
                                </template>
                            </ul>
                        </template>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Address Line 2" message-when-value-missing="Please add Address 2"
                            class="address2Valid" max-length="255" type="text" name="addressLine2" value={addressLine2}
                            onchange={onchangeAddressDetails}></lightning-input>
                    </div>
                    <div
                        class="mobile_right_padding slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Town" max-length="255" type="text" name="town" value={town}
                            onchange={onchangeAddressDetails} required="true" class="townValid"
                            message-when-value-missing="Please add Town"></lightning-input>
                    </div>
                    <div
                        class="mobile_right_padding slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Country" max-length="255" type="text" name="country" value={country}
                            onchange={onchangeAddressDetails} required="true" class="countryValid"
                            message-when-value-missing="Please add Country"></lightning-input>
                    </div>
                    <div
                        class="mobile_right_padding slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="PostCode" max-length="255" type="text" name="postCode" value={postCode}
                            onchange={onchangeAddressDetails} required="true" class="postCodeValid"
                            message-when-value-missing="Please add postCode"></lightning-input>
                    </div>
                    <div
                        class="mobile_right_padding slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Date You Moved In"
                            message-when-value-missing="Please add Date You Moved In" required="true"
                            placeholder="DD/MM/YYYY" date-style="short" class="dateSCMoved" type="date"
                            name="dateSCMoved" value={dateSCMoved} onchange={onchangeAddressDetails}
                            max={maxDate}></lightning-input>
                    </div>
                    <div
                        class="mobile_right_padding slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                    </div>
                    <!-- <template if:true={previosAddressVisible}> -->
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input disabled={previosAddressVisible} label="Previous Address Line 1"
                            message-when-value-missing="Please add Previous Address 1" class="previousAddressLine1"
                            required="true" max-length="255" type="text" name="previousAddressLine1"
                            value={previousAddressLine1} onchange={onchangeAddressDetails}></lightning-input>
                        <template if:true={showPreviousAddress}>
                            <ul class="addressdropdown">
                                <template for:each={previousAddressOptions} for:item="address">
                                    <li class="slds-dropdown__item" key={address.value} data-value={address.value}
                                        onclick={handlePreviousAddressSelection}>
                                        {address.label}
                                    </li>
                                </template>
                            </ul>
                        </template>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input disabled={previosAddressVisible} label="Previous Address Line 2"
                            message-when-value-missing="Please add Previous Address 2" class="previousAddressLine2"
                            max-length="255" type="text" name="previousAddressLine2" value={previousAddressLine2}
                            onchange={onchangeAddressDetails}></lightning-input>
                    </div>
                    <div
                        class="mobile_right_padding slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input disabled={previosAddressVisible} label="Previous Town"
                            message-when-value-missing="Please add Previous Town" required="true" class="previousTown"
                            max-length="255" type="text" name="previousTown" value={previousTown}
                            onchange={onchangeAddressDetails}></lightning-input>
                    </div>
                    <div
                        class="mobile_right_padding slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input disabled={previosAddressVisible} label="Previous Country"
                            message-when-value-missing="Please add Previous Country" required="true"
                            class="previousCountry" max-length="255" type="text" name="previousCountry"
                            value={previousCountry} onchange={onchangeAddressDetails}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input disabled={previosAddressVisible} label="Previous PostCode"
                            message-when-value-missing="Please add Previous PostCode" required="true"
                            class="previousPostCode" max-length="255" type="text" name="previousPostCode"
                            value={previousPostCode} onchange={onchangeAddressDetails}></lightning-input>
                    </div>
                    <!-- </template> -->
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton margin_right_10" onclick={callBackButton}
                                name="addressDetails">Back</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmAddressDetails} class="confirmButton">Next</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
    </template>
    <!-- 11. Emergancy Details -->
    <template if:true={confirmEmergencyContactpage}>
        <div class="confirm_details_sec2">
            <div class="confirmDetails2">
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div>
                            <h2 class="title primaryContent">Emergency Contact</h2>
                            <div class="subtitle Confirm your detail secondaryContent">Please enter your emergency
                                contact details</div>
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Emergency contact name" type="text"
                            message-when-value-missing="Please Add Emergency contact name" required="true"
                            class="EmergencyContactName" name="EmergencyContactName" value={EmergencyContactName}
                            onchange={onchangeEmergencyContactDetails}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Emergency contact relationship" type="text"
                            message-when-value-missing="Please Add Emergency contact relationship" required="true"
                            class="EmergencyContactRelation" name="EmergencyContactRelation"
                            value={EmergencyContactRelation}
                            onchange={onchangeEmergencyContactDetails}></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="position: relative;">
                            <!-- <span class="slds-form-element__addon" style="position: absolute;top: 55%;opacity: 100;z-index: 10;">+44</span> -->
                            <label style="font-size: 12px;">
                                <span style="color: red;padding-right: 3px;">*</span>
                                Emergency contact telephone number
                            </label>
                            <div style="position: relative;">
                                <span
                                    style="position: absolute;z-index: 10;top: 0px;left: 0%;background: #b2b4c3d6;padding: 6px;border-top-left-radius: 8px;border-bottom-left-radius: 8px;">+44</span>
                                <lightning-input type="text" variant="label-hidden" style="width: 100%;"
                                    message-when-value-missing="Please Add Emergency contact telephone number"
                                    max-length="15" pattern="[0-9+]*"
                                    message-when-pattern-mismatch="Please enter Digits only" required="true"
                                    class="EmergencyContactNumber" name="EmergencyContactNumber"
                                    value={EmergencyContactNumber}
                                    onchange={onchangeEmergencyContactDetails}></lightning-input>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slds-grid slds-wrap">
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton margin_right_10" onclick={callBackButton}
                                name="emergencyDetails">Back</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmEmergencyContactDetails} class="confirmButton">Next</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
    </template>
    <!-- 12. Bank Details -->
    <template if:true={confirmBankDetailsPage}>
        <div class="confirm_details_sec2">
            <div class="confirmDetails2">
                <div class="slds-grid slds-wrap">
                    <div
                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div>
                            <h2 class="title primaryContent">Bank Details</h2>
                            <div class="subtitle secondaryContent">Please enter your bank details.</div>
                        </div>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Name on the Bank Account" max-length="255" type="text"
                            name="bankAccountName" value={bankAccountName} onchange={onchangeBankDetails}
                            required="true" class="accountNameValid" pattern="[A-Za-z ]*"
                            message-when-pattern-mismatch="Please enter alphabetic characters only"
                            message-when-value-missing="Please add Bank Account Name"></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Who do you bank with?" type="text" name="bankWithName"
                            value={bankWithName} onchange={onchangeBankDetails} required="true"
                            class="bankWithNameValid" pattern="[A-Za-z ]*"
                            message-when-pattern-mismatch="Please enter alphabetic characters only"
                            message-when-value-missing="Please add Who do you bank with"></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Bank Account No." max-length="8" type="text" name="bankAccountNo"
                            value={bankAccountNo} onchange={onchangeBankDetails} required="true" class="accountNoValid"
                            message-when-value-missing="Please add Bank Account Number" pattern="[0-9]{8}"
                            message-when-pattern-mismatch="Please enter exactly 8 Numerical Digits"></lightning-input>
                    </div>
                    <div
                        class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <lightning-input label="Sort Code" max-length="6" type="text" name="sortCode" value={sortCode}
                            onchange={onchangeBankDetails} required="true" class="sortCodeValid"
                            message-when-value-missing="Please add Sort Code" pattern="[0-9]{6}"
                            message-when-pattern-mismatch="Please enter exactly 6 Numerical Digits"></lightning-input>
                    </div>
                    <div
                        class="editbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button class="editButton margin_right_10" onclick={callBackButton}
                                name="bankDetails">Back</button>
                        </div>
                    </div>
                    <div
                        class="confirmbtn slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_6-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                        <div style="display: flex;justify-content: center;">
                            <button onclick={callConfirmBankDetails} class="confirmButton">Next</button>
                        </div>
                    </div>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
    </template>
    <!-- 13. Video Details -->
    <template if:true={confirmVideoDetailsPage}>
        <div class="confirm_details_sec2">
            <div class="video_data">
                <div class="video">
                    <c-load-video videoid={videoId} bccolor={buttonBackGroundColor} fontcolor={buttonFontColor}
                        height='360' width='100%' onvideoend={handleVideoEnd}></c-load-video>
                </div>
                <div class="confirmbtn2">
                    <!-- disabled={isButtonDisabled} -->
                    <button disabled={isButtonDisabled} onclick={callConfirmVideo} class="confirmButton2">Next</button>
                </div>
                <div class="power_by_logo"><img src={powerByLogo}></div>
            </div>
        </div>
    </template>
    <!-- If Duplicate Account then Skip Screen 14 & 15 -->
    <template if:true={showProductScreen}>
        <!-- 14. Choose Genrate Product Screen -->
        <template if:true={confirmServicePlanDetailsPage}>
            <div class="container">
                <div class="BussinessPlan_heading">
                    <h2 class="title primaryContent">Register to get paid today</h2>
                    <div class="subtitle secondaryContent">Empowering main contractors with streamlined subcontractor
                        management and financial clarity.
                    </div>
                </div>
            </div>
            <!-- <div class="price_part">
            <div class="non_price_grid">
                <template for:each={productList} for:item="products" for:index="index">
                    <div key={products.Id} class="non_price_col">
                        <div class={products.priceDataPopular}>
                            <template if:true={products.Is_Most_Popular__c}>
                                <div class="most_popular">Most Popular</div>
                            </template>
                            <h2 class="price_data_title primaryContent">{products.Name}</h2>
                            <h3 class="price_data_subtitle secondaryContent">{products.Title__c}</h3>
                            <div class="price_data_para">
                                <div class="price_data_icon">

                                    <div class="price_data_icon_right secondaryContent"> <lightning-formatted-rich-text
                                            value={products.Description__c}></lightning-formatted-rich-text></div>
                                </div>
                            </div>

                            <div class="tab_btn">
                                <div class="price_tag">
                                    {products.Amount__c} <span>{products.Product_Commercials__c}</span>
                                </div>
                                <div class="confirmbtn2"><button onclick={callConfirmServicePlan} class="confirmButton2"
                                        data-id={products.Id}>Confirm</button></div>
                            </div>
                        </div>
                    </div>
                </template>

            </div>
            </div> -->
            <!-- <div class="price_data_desktop">
            <div class="container">

            </div>
            </div> -->
            <!-- <div class="price_data_mobile">
            <div class="container">
                <div class="BussinessPlan_bottom">
                    <div class="BussinessPlan_bottom_title">Show me plan for my business</div>

                    <div class="slds-tabs_default slds-tabs_medium pagination">
                        <ul class="slds-tabs_default__nav" role="tablist">
                            <template for:each={productList} for:item="products">
                                <li key={products.id} class={products.tabClass} title={products.Name}
                                    role="presentation">
                                    <a class="slds-tabs_default__link" role="tab" tabindex={products.tabIndex}
                                        aria-controls={products.ariaControls} id={products.tabId}
                                        onclick={handleTabClick1}
                                        aria-selected={products.isSelected}>{products.Name}</a>
                                </li>
                            </template>
                        </ul>
                        <template for:each={productList} for:item="products">
                            <div key={products.id} id={products.contentId} class={products.contentClass} role="tabpanel"
                                aria-labelledby={products.tabId} if:true={products.isSelected}>
                                <div style="border-radius: 8px; border: 3px solid #252A37;">
                                    <template if:true={products.Is_Most_Popular__c}>
                                        <div class="most_popular most_popular_mobile">Most Popular</div>
                                    </template>
                                    <div style="padding: 35px 0px;">
                                        <div
                                            style="color: #494E63; text-align: center; font-size: 18px; margin-bottom: 10px; font-weight: 600;">
                                            {products.Title__c}</div>
                                        <div style="color: #494E63; text-align: center; padding: 0px 20px;">
                                            <lightning-formatted-rich-text
                                                value={products.Description__c}></lightning-formatted-rich-text>
                                        </div>
                                        <div
                                            style="color: #494E63; text-align: center; font-size: 50px; margin: 20px; font-weight: 600;">
                                            {products.Amount__c} {products.Product_Commercials__c}</div>
                                        <div class="confirmbtn2">
                                            <button onclick={callConfirmServicePlan} class="confirmButton2"
                                                data-id={products.Id}>Confirm</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>

                </div>

            </div>

            </div> -->
            <div class="container gconnect_price">
                <section class="accordion accordion--radio">
                    <template for:each={productList} for:item="products" for:index="index">
                        <div key={products.Id} class="tab">
                            <input type="radio" name="accordion-2" id={index} checked={products.isSelected}>
                            <!-- <label for={index} class="tab__label">{products.Name}</label> -->
                            <label for={index} class="tab__label">
                                <span class="arrow"></span>
                                <span class="product_title">{products.Name}</span>
                                <span class="price_tag">{products.Amount__c}
                                    <span>{products.Product_Commercials__c}</span></span>
                            </label>
                            <div class="tab__content">
                                <div class="slds-grid slds-wrap">
                                    <div
                                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                                        <p class="product_sub_title">{products.Title__c}</p>
                                    </div>
                                    <div
                                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                                        <div class="price_data_para">
                                            <div class="price_data_icon">
                                                <div class="price_data_icon_right secondaryContent">
                                                    <lightning-formatted-rich-text
                                                        value={products.Description__c}></lightning-formatted-rich-text>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12 slds-p-horizontal_medium slds-p-vertical_x-small">
                                        <div style="display: flex;justify-content: center;">
                                            <div class="confirmbtn_product"><button onclick={callConfirmServicePlan}
                                                    class="confirmButton2"
                                                    style="margin-top: 0px !important;padding:0px !important;"
                                                    data-id={products.Id}>Choose this product</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                </section>
            </div>
            <div class="power_by_logo slds-m-bottom_large"><img src={powerByLogo}></div>
        </template>
        <!-- 15. Choose Aedon Product Screen -->
        <template if:true={confirmAddOnServicePlan}>
            <div class="container">
                <div class="BussinessPlan_heading" style="padding-bottom:0px ;">
                    <div class="subtitle primaryContent" style="max-width: 700px;font-weight:bold;font-size:14px;">As
                        you
                        begin working for yourself, it's important to register with HMRC and inform them of your
                        self-employment status within three months. Generate Connect can help you with this process and
                        also
                        obtain your Unique Taxpayer Reference (UTR) number.
                    </div>
                </div>
            </div>
            <!-- <div class="container">
            <div class="price_data_desktop"> -->
            <div class="price_part">
                <div class="non_price_grid" style="height: 600p;">
                    <template for:each={vatRegisteredProducts} for:item="products" for:index="index">
                        <div key={products.Id} class="non_price_col">
                            <div class={products.priceDataPopular}>
                                <template if:true={products.Is_Most_Popular__c}>
                                    <div class="most_popular">Most Popular</div>
                                </template>
                                <h2 class="price_data_title primaryContent">{products.Name}</h2>
                                <h3 class="price_data_subtitle secondaryContent">{products.Title__c}</h3>
                                <div class="price_data_para">
                                    <div class="price_data_icon">
                                        <div class="price_data_icon_right secondaryContent">
                                            <lightning-formatted-rich-text
                                                value={products.Description__c}></lightning-formatted-rich-text>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab_btn">
                                    <div class="price_tag">
                                        {products.Amount__c} <span>{products.Product_Commercials__c}</span>
                                    </div>
                                    <div class="confirmbtn2"><button onclick={callConfirmServicePlanAddOn}
                                            class="confirmButton2" data-id={products.Id}>Confirm</button></div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </div>
            <div class="confirmbtn2 slds-m-top_large slds-m-bottom_large"><button style="max-width: 350px;"
                    onclick={callConfirmServicePlanAddOn} class="confirmButton2" data-id='withoutVAT'>I Will Register
                    and
                    Supply My Own UTR Number</button>
            </div>
            <!-- </div>
            </div> -->
            <div class="power_by_logo slds-m-bottom_large"><img src={powerByLogo}></div>
            <div class="price_data_mobile slds-m-top_large">
                <div class="container">
                    <div class="slds-tabs_default slds-tabs_medium pagination "
                        style="background-color: #F5E1DC;padding: 20px;">
                        <ul class="slds-tabs_default__nav" role="tablist">
                            <template for:each={vatRegisteredProducts} for:item="products">
                                <template if:true={products.VAT_Registration_Product__c}>
                                    <li key={products.id} class={products.tabClass} title={products.Name}
                                        role="presentation">
                                        <a class="slds-tabs_default__link" role="tab" tabindex={products.tabIndex}
                                            aria-controls={products.ariaControls} id={products.tabId}
                                            onclick={handleTabClick1}
                                            aria-selected={products.isSelected}>{products.Name}</a>
                                    </li>
                                </template>
                            </template>
                        </ul>
                        <template for:each={vatRegisteredProducts} for:item="products">
                            <template if:true={products.VAT_Registration_Product__c}>
                                <div key={products.id} class={products.contentClass} role="tabpanel"
                                    aria-labelledby={products.tabId} if:true={products.isSelected}>
                                    <div style="border-radius: 25px; border: 3px solid #252A37;">
                                        <template if:true={products.Is_Most_Popular__c}>
                                            <div class="most_popular most_popular_mobile">Most Popular</div>
                                        </template>
                                        <div style="padding: 35px 0px;">
                                            <div
                                                style="color: #494E63; text-align: center; font-size: 22px; margin-bottom: 10px; font-weight: 600;">
                                                {products.Name}
                                            </div>
                                            <div style="color: #494E63; text-align: center; padding: 0px 20px;">
                                                <lightning-formatted-rich-text
                                                    value={products.Description__c}></lightning-formatted-rich-text>
                                            </div>
                                            <div class="confirmbtn2">
                                                <button onclick={callConfirmServicePlanAddOn} class="confirmButton2"
                                                    data-id={products.Id}>Confirm</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </template>
                        </template>
                    </div>
                    <div class="confirmbtn2 slds-m-top_large slds-m-bottom_large"><button
                            onclick={callConfirmServicePlanAddOn} class="confirmButton2" data-id='withoutVAT'>Continue
                            Without VAT</button>
                    </div>
                </div>
            </div>
        </template>
    </template>
    <!-- 16. Service and Terms -->
    <template if:true={confirmServiceTermsDetailsPage}>
        <div class="service_terms">
            <div class="container">
                <div class="terms_center">
                    <div>
                        <h2 class="title primaryContent">Service Terms</h2>
                    </div>
                    <div class="terms_data">
                        <div class="slds-grid slds-wrap service_terms_data">
                            <div class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12">
                                <c-service-term-no-v-a-t></c-service-term-no-v-a-t>
                            </div>
                        </div>
                    </div>
                    <div class="slds-col slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_12-of-12">
                        <div class="confirmbtnservice">
                            <button onclick={callConfirmServiceTerms} class="confirmButton2" style=" margin-top:10px"
                                disabled={disabledTermBtn}>I
                                Accept</button>
                        </div>
                    </div>
                    <div class="power_by_logo slds-m-bottom_large"><img src={powerByLogo}></div>
                </div>
            </div>
        </div>
    </template>
    <!-- 17. Congartulation Screen -->
    <template if:true={congratulationsPage}>
        <div class="Congratulation_image">
            <template if:true={exisingDriverContent}>
                <div align="center"><img src={existingDriverCongratulationImage}></div>
                <div class="exisingDriverContent" align="center">
                    <div class="congratstitle primaryContent" style="max-width: 650px;"><strong>Youre Now With Generate
                            Connect!</strong>
                    </div>
                    <div align="center" style="line-height: 25px;margin-top: 8px;">
                        <b>Youre now fully onboarded with {DSPName} too. Please check your email inbox for information
                            on the service and next steps!</b> <br>
                    </div>
                </div>
            </template>
            <template if:true={showWelcomeScreen1}>
                <div align="center"><img src={CongratulationsImage}></div>
                <div class="exisingDriverContent" align="center">
                    <div class="congratstitle primaryContent" style="max-width: 800px;"><strong>Great News Your
                            Contracts Are Ready for Signing!</strong>
                    </div>
                    <div align="center" style="line-height: 25px;margin-top: 8px;">
                        Your contracts have been dispatched via DocuSign to {email}. <br>
                        Please check your inbox; the email should arrive within the next 30 minutes. <br>
                        <b>Once signed, your onboarding with {DSPName} will be complete!</b> <br>
                        <span style="font-size: 14px;">Additionally, we would like to extend a warm welcome to Generate
                            Connect. <br>
                            Shortly, you will receive an email containing all relevant information about our
                            services.</span>
                    </div>
                </div>
            </template>
            <template if:true={showWelcomeScreen2}>
                <div>
                    <div class="screenBody">
                        <div class="congratstitle "
                            style="margin-bottom:20px; line-height: 25px;font-size: 19px; color:#083D2B; font-family: var(--color-font-primary); ">
                            Hi <span style="color: #1DC079;">{firstName}&nbsp;{lastName}</span>,</div>
                        <div class="congratstitle "
                            style="margin-bottom:20px; line-height: 25px;font-size: 14px;font-family: var(--color-font-secondary);color:#083D2B">
                            Thanks for signing up again  its great to have you back with us!</div>
                        <div
                            style="margin-bottom:20px; line-height: 25px;font-size: 14px;font-family: var(--color-font-secondary);color:#083D2B">
                            It looks like you may have used our service before, so one of our friendly
                            Customer Care team members will be in touch shortly to confirm a few details
                            with you. Expect a quick call or message via WhatsApp soon.
                        </div>
                        <div
                            style="margin-bottom:20px; line-height: 25px;font-size: 14px;font-family: var(--color-font-secondary);color:#083D2B">
                            If you have any immediate questions in the meantime, feel free to reach out 
                            were here to help.
                        </div>
                        <div style="margin-top: 30px; border-top: 1px solid #ccc; padding-top: 10px;">
                            <div style="  padding-bottom: 10px;font-family: var(--color-font-secondary);color:#083D2B">
                                <strong>Best regards,</strong>
                            </div>
                            <div
                                style="background-color: #083D2B; color: white; padding: 15px;  align-items: center;font-size: 14px;">
                                <div style="display: flex; padding: 0px 10px;">
                                    <div>
                                        <img src={connectLogo} alt="Genrate Connect"
                                            style="margin-right: 20px; height: fit-content;" />
                                    </div>
                                    <div>
                                        <p style="margin: 0; color: #1DC079"><strong>The Generate Connect Support
                                                Team</strong></p>
                                        <div style="margin: 0; display: flex;">
                                            <p style="color: #1DC079">T. &nbsp;&nbsp;</p>
                                            020 8129 4930
                                        </div>
                                        <div style="margin: 0; display: flex;">
                                            <p style="color: #1DC079">W. &nbsp;&nbsp;</p>
                                            <a href="https://generate-fs.co.uk/"
                                                style="color: white;">generate-fs.co.uk</a>
                                        </div>
                                        <!-- <div style="margin-top: 5px;">
                                 <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook" width="16" />
                                 <img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="Twitter" width="16" style="margin-left: 5px;" />
                                 <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="LinkedIn" width="16" style="margin-left: 5px;" />
                                 </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
        </div>
    </template>
    <!-- ==================================== SC FLOW END ============================================================ -->
    <template if:true={isProfileUploadOpned}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
            aria-describedby="modal-content-id-7" class="fileUploadModal slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <!-- modal header start -->
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title="Close" onclick={handleFileCancel}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                            size="small"></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-12" class="slds-text-heading_medium slds-hyphenate">Upload Documents</h2>
                </header>
                <!-- modal body start -->
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-12">
                    <div class="slds-grid slds-var-m-around_small">
                        <div class="slds-col slds-size_6-of-6">
                            <c-image-capture record-id={recordId} show-file-upload={showFileUploadModal}
                                show-profile={showProfileUploadModal} show-capture-file={showImageCaptureModal}
                                show-doc-error={isFileModuleError} show-error-message={fileModuleError}
                                document-names={selectedRTWDocumentNames}
                                show-front-back-radio-btn={showFrontBackRadioBtn}>
                            </c-image-capture>
                        </div>
                    </div>
                </div>
                <!-- modal footer start-->
                <footer class="slds-modal__footer deleteModal">
                    <button class="slds-button slds-button_neutral" onclick={handleFileCancel}>Cancel</button>
                    <button class="slds-button slds-button_brand btncolor"
                        onclick={handleSaveProfileFiles}>Save</button>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
</template>
