/* ══════════════════════════════════════════════════════════
   rtwUpload.css  –  Mobile-first responsive
══════════════════════════════════════════════════════════ */
:host {
    --connect-green:        #00B67A;
    --connect-green-light:  #E8F8F0;
    --connect-green-dark:   #009963;
    --text-primary:         #1A2332;
    --text-secondary:       #5A6577;
    --text-muted:           #8C95A6;
    --border:               #E2E6ED;
    --bg-page:              #F5F6F8;
    --bg-card:              #FFFFFF;
    --error-red:            #E5493A;
    --error-red-light:      #FEF2F1;
    --success-bg:           #F0FAF5;
    --warning-amber:        #F59E0B;
    --warning-amber-light:  #FFFBEB;
    --radius:               12px;
    --radius-sm:            8px;
    --shadow-sm:            0 1px 3px rgba(26,35,50,.06);
}
* { box-sizing: border-box; }

/* ── Wrappers ──────────────────────────────────────────── */
.main {
    width: 100%;
    max-width: 640px;
    margin: 0 auto;
    padding: 16px 12px 32px;   /* mobile-first: tighter padding */
    display: flex;
    flex-direction: column;
    gap: 16px;
}
.connect-v2 {
    display: block;
    font-family: 'Salesforce Sans', Arial, sans-serif;
    color: var(--text-primary);
    max-height: max-content;
}
.dual-main {
    width: 100%;
    margin: 0 auto;
    padding: 14px 12px 32px;
    display: flex;
    flex-direction: column;
    gap: 14px;
}

/* ── Page header ───────────────────────────────────────── */
.page-title    { font-size: 20px; font-weight: 700; letter-spacing: -.4px; color: var(--text-primary); line-height: 1.25; }
.page-subtitle { font-size: 13px; color: var(--text-secondary); margin-top: 6px; line-height: 1.5; }
.doc-badge {
    display: inline-flex; align-items: center; gap: 6px;
    background: var(--connect-green-light); color: var(--connect-green-dark);
    font-size: 12px; font-weight: 600; padding: 5px 10px;
    border-radius: 20px; margin-top: 8px; width: fit-content;
}
.doc-badge svg { width: 13px; height: 13px; }

/* ── Cards ─────────────────────────────────────────────── */
.custom-card, .card {
    background: var(--bg-card); border-radius: var(--radius);
    border: 1px solid var(--border); box-shadow: var(--shadow-sm); overflow: hidden;
}
.card-body {
    padding: 14px 12px 16px;
    display: flex; flex-direction: column; gap: 12px;
}
.upload-card-body { gap: 14px; }

/* ── Resubmission ──────────────────────────────────────── */
.resubmission-notice {
    background: var(--warning-amber-light); border: 1px solid #FDE68A;
    border-radius: var(--radius-sm); padding: 10px 12px;
    display: flex; align-items: flex-start; gap: 8px;
    font-size: 13px; color: #92400E; line-height: 1.5;
}
.resubmission-notice svg { width: 18px; height: 18px; flex-shrink: 0; margin-top: 1px; }

/* ── Passport illustration ─────────────────────────────── */
.illustration-section {
    display: flex;
    flex-direction: column;   /* stack by default on mobile */
    gap: 10px;
}
.illustration-box {
    flex: 1; border-radius: var(--radius-sm); padding: 12px;
    display: flex; flex-direction: column; align-items: center; text-align: center; gap: 8px;
}
.illustration-box.good { background: var(--success-bg); border: 1.5px solid #C6EEDA; }
.illustration-box.bad  { background: var(--error-red-light); border: 1.5px solid #F5CDCA; }
.illustration-label    { font-size: 12px; font-weight: 600; display: flex; align-items: center; gap: 5px; }
.good-label            { color: var(--connect-green-dark); }
.bad-label             { color: var(--error-red); }

.passport-illustration { width: 100%; max-width: 120px; aspect-ratio: 3/4; border-radius: 6px; overflow: hidden; }
.passport-good {
    background: linear-gradient(135deg, #2C3E6B, #1A2744); border: 2px solid #3D5280;
    display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 10px; gap: 6px;
}
.passport-good .passport-crest {
    width: 26px; height: 26px; border-radius: 50%;
    background: rgba(212,175,55,.3); border: 1.5px solid rgba(212,175,55,.6);
    display: flex; align-items: center; justify-content: center; font-size: 11px;
}
.passport-good .passport-photo-area { width: 38px; height: 46px; background: rgba(255,255,255,.15); border-radius: 3px; display: flex; align-items: center; justify-content: center; }
.passport-good .passport-lines      { display: flex; flex-direction: column; gap: 3px; width: 80%; }
.passport-good .passport-line       { height: 3px; background: rgba(255,255,255,.2); border-radius: 2px; }
.passport-good .passport-line.short { width: 70%; }
.passport-good .passport-mrz        { width: 90%; display: flex; flex-direction: column; gap: 2px; margin-top: 4px; }
.passport-good .mrz-line            { height: 2px; background: rgba(255,255,255,.12); border-radius: 1px; }
.passport-bad {
    background: linear-gradient(135deg, #4A5568, #2D3748); border: 2px solid #5A6577;
    display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 10px; gap: 6px;
    filter: blur(0.5px); transform: rotate(-5deg); opacity: .85;
}
.passport-bad .passport-crest      { width: 26px; height: 26px; border-radius: 50%; background: rgba(160,160,160,.2); border: 1.5px solid rgba(160,160,160,.3); }
.passport-bad .passport-photo-area { width: 38px; height: 46px; background: rgba(255,255,255,.08); border-radius: 3px; transform: rotate(-3deg); }
.passport-bad .passport-lines      { display: flex; flex-direction: column; gap: 3px; width: 80%; }
.passport-bad .passport-line       { height: 3px; background: rgba(255,255,255,.1); border-radius: 2px; }
.illustration-hint { font-size: 11px; color: var(--text-secondary); line-height: 1.4; }

/* ── Guidelines ────────────────────────────────────────── */
.guidelines-title { font-size: 13px; font-weight: 600; color: var(--text-primary); display: flex; align-items: center; gap: 6px; }
.guideline-item   { display: flex; align-items: flex-start; gap: 8px; padding: 0; }
.guideline-item.compact { padding: 0; }
.guideline-icon   { width: 18px; height: 18px; border-radius: 50%; background: var(--connect-green-light); display: flex; align-items: center; justify-content: center; flex-shrink: 0; margin-top: 1px; }
.guideline-icon svg { width: 11px; height: 11px; color: var(--connect-green); }
.guideline-icon.sm { width: 15px; height: 15px; }
.guideline-icon.sm svg { width: 9px; height: 9px; }
.guideline-text   { font-size: 13px; color: var(--text-secondary); line-height: 1.4; }
.guideline-text.sm { font-size: 11px; }

/* ════════════════════════════════════════════════════════
   Upload zone with invisible input overlay
════════════════════════════════════════════════════════ */
.upload-zone-wrapper {
    position: relative;
    border: 2px dashed var(--border);
    border-radius: var(--radius);
    background: var(--bg-page);
    cursor: pointer;
    transition: border-color .2s, background .2s;
    overflow: hidden;
    /* Improve tap target on mobile */
    -webkit-tap-highlight-color: transparent;
}
.upload-zone-wrapper:hover,
.upload-zone-wrapper:focus-within {
    border-color: var(--connect-green);
    background: var(--connect-green-light);
}
.upload-zone-wrapper.indented { border-radius: var(--radius-sm); }

/* Invisible input overlay */
.file-input-overlay {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
    z-index: 2;
}

/* Visual content inside the zone */
.upload-zone-content {
    position: relative;
    z-index: 1;
    padding: 28px 16px;        /* tighter on mobile */
    display: flex; flex-direction: column; align-items: center; gap: 10px;
    pointer-events: none;
}
.upload-zone-content.small { padding: 18px 12px; gap: 6px; }

.upload-icon {
    width: 44px; height: 44px; border-radius: 50%;
    background: var(--connect-green-light);
    display: flex; align-items: center; justify-content: center;
}
.upload-icon svg { width: 20px; height: 20px; color: var(--connect-green); }
.upload-icon-sm {
    width: 32px; height: 32px; border-radius: 50%;
    background: var(--connect-green-light);
    display: flex; align-items: center; justify-content: center;
}
.upload-icon-sm svg { width: 16px; height: 16px; color: var(--connect-green); }

.upload-text-primary       { font-size: 14px; font-weight: 600; color: var(--text-primary); text-align: center; }
.upload-text-primary.sm    { font-size: 13px; }
.upload-text-primary span  { color: var(--connect-green); text-decoration: underline; text-underline-offset: 2px; }
.upload-text-secondary     { font-size: 12px; color: var(--text-muted); text-align: center; }

/* ── Dividers ───────────────────────────────────────────── */
.divider-row, .or-row {
    display: flex; align-items: center; gap: 10px; margin: 2px 0;
}
.or-row.indented { margin-left: 28px; }
.divider-line    { flex: 1; height: 1px; background: var(--border); }
.divider-or      { font-size: 11px; color: var(--text-muted); text-transform: uppercase; letter-spacing: .5px; font-weight: 500; }

/* ── Capture buttons ────────────────────────────────────── */
.capture-btn-styled, .capture-btn {
    display: inline-flex; align-items: center; justify-content: center; gap: 8px;
    padding: 11px 20px; border: 1.5px solid var(--border); border-radius: var(--radius-sm);
    background: var(--bg-card); color: var(--text-primary);
    font-size: 14px; font-weight: 500; cursor: pointer;
    transition: border-color .15s, color .15s; font-family: inherit;
    /* Full-width on mobile for easier tapping */
    width: 100%;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    min-height: 44px;          /* minimum touch target */
}
.capture-btn-styled { max-width: 260px; margin: 0 auto; }
.capture-btn        { max-width: 220px; }
.capture-btn.indented { margin-left: 28px; }
.capture-btn-styled:hover, .capture-btn:hover { border-color: var(--connect-green); color: var(--connect-green); }
.capture-btn-styled svg, .capture-btn svg { width: 18px; height: 18px; }

/* ── Camera ─────────────────────────────────────────────── */
.camera-wrap { position: relative; width: 100%; border-radius: var(--radius-sm); overflow: hidden; background: #000; }
.camera-wrap video { width: 100%; display: block; max-height: 60vh; object-fit: cover; }
.snap-btn {
    position: absolute; bottom: 16px; left: 50%; transform: translateX(-50%);
    width: 60px; height: 60px; border-radius: 50%;     /* slightly bigger tap target */
    background: white; border: 4px solid rgba(255,255,255,.5); cursor: pointer; padding: 0;
    touch-action: manipulation;
}
.swap-btn {
    position: absolute; bottom: 20px; right: 16px; width: 44px; height: 44px; /* bigger touch target */
    border-radius: 50%; background: rgba(0,0,0,.45); border: none; cursor: pointer; padding: 10px;
    touch-action: manipulation;
}
.swap-btn svg { width: 100%; height: 100%; display: block; }

/* ── File preview rows ──────────────────────────────────── */
.file-preview-row, .uploaded-file-row {
    display: flex; align-items: center; gap: 10px;
    background: var(--bg-page); border: 1px solid var(--border);
    border-radius: var(--radius-sm); padding: 8px 10px;
}
.uploaded-file-row { margin-left: 28px; background: var(--bg-card); }
.preview-thumb    { width: 52px; height: 52px; object-fit: cover; border-radius: 6px; flex-shrink: 0; }
.preview-thumb-sm { width: 36px; height: 36px; object-fit: cover; border-radius: 4px; flex-shrink: 0; }
.file-icon-box {
    width: 42px; height: 42px; border-radius: 8px; background: var(--connect-green);
    display: flex; align-items: center; justify-content: center; flex-shrink: 0;
}
.file-preview-info, .uploaded-file-info { flex: 1; min-width: 0; }
.file-preview-name, .uploaded-file-name { font-size: 12px; font-weight: 600; color: var(--text-primary); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.file-preview-size, .uploaded-file-size { font-size: 11px; color: var(--text-muted); }
.remove-btn {
    width: 32px; height: 32px; border-radius: 50%; border: none; /* bigger for touch */
    background: var(--error-red-light); color: var(--error-red);
    font-size: 14px; cursor: pointer; flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    line-height: 1; padding: 0; font-weight: 700;
    touch-action: manipulation;
}
.remove-btn:hover { background: var(--error-red); color: white; }

/* ── Dual mode section header ───────────────────────────── */
.section-header { display: flex; align-items: center; gap: 8px; }
.section-num {
    width: 22px; height: 22px; border-radius: 50%; background: var(--connect-green); color: white;
    display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: 700; flex-shrink: 0;
}
.section-title { font-size: 14px; font-weight: 600; color: var(--text-primary); }

.warning-callout {
    background: var(--warning-amber-light); border: 1px solid #FDE68A;
    border-radius: var(--radius-sm); padding: 10px 12px;
    display: flex; align-items: flex-start; gap: 8px; font-size: 12px; color: #92400E; line-height: 1.45;
}
.ni-hint { font-size: 12px; color: var(--text-muted); line-height: 1.5; margin-left: 28px; }
.ni-hint strong { color: var(--text-secondary); font-weight: 600; }

/* ── Uploaded file icon ─────────────────────────────────── */
.uploaded-file-icon {
    width: 34px; height: 34px; border-radius: 6px; background: var(--connect-green);
    display: flex; align-items: center; justify-content: center; flex-shrink: 0;
}
.uploaded-file-icon svg { width: 18px; height: 18px; }

/* ── Powered by ─────────────────────────────────────────── */
.powered-by { text-align: center; font-size: 11px; color: var(--text-muted); padding: 16px 0 8px; }
.powered-by strong { color: var(--connect-green); font-weight: 600; }

/* ── Large preview card (single mode) ──────────────────── */
.preview-card {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    background: var(--bg-page);
    border: 1.5px solid var(--connect-green);
    border-radius: var(--radius);
    padding: 12px;
    position: relative;
}
.preview-img {
    width: 80px;
    height: 80px;
    border-radius: var(--radius-sm);
    flex-shrink: 0;
    border: 1px solid var(--border);
}
.pdf-preview {
    width: 80px;
    height: 80px;
    border-radius: var(--radius-sm);
    background: var(--connect-green);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}
.pdf-preview svg { width: 36px; height: 36px; }
.preview-info { flex: 1; min-width: 0; display: flex; flex-direction: column; gap: 4px; }
.preview-name { font-size: 13px; font-weight: 600; color: var(--text-primary); word-break: break-word; }
.preview-size { font-size: 11px; color: var(--text-muted); }
.preview-type-badge {
    display: inline-flex; align-items: center; gap: 4px;
    background: var(--connect-green-light); color: var(--connect-green-dark);
    font-size: 11px; font-weight: 600; padding: 3px 8px; border-radius: 10px; width: fit-content;
}

/* ── Camera close button ────────────────────────────────── */
.camera-close-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 10;
    width: 36px;               /* bigger touch target */
    height: 36px;
    border-radius: 50%;
    border: 2px solid rgba(255,255,255,0.8);
    background: rgba(0,0,0,0.45);
    color: #ffffff;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    touch-action: manipulation;
}

/* ══════════════════════════════════════════════════════════
   RESPONSIVE BREAKPOINTS
   Strategy: mobile-first base rules above ↑
   Progressively enhance for larger screens below ↓
══════════════════════════════════════════════════════════ */

/* ── xs → sm  (≥360px) – slightly more breathing room ──── */
@media (min-width: 360px) {
    .main         { padding: 18px 14px 36px; gap: 18px; }
    .dual-main    { padding: 16px 14px 36px; gap: 16px; }
    .card-body    { padding: 16px 14px 18px; }
}

/* ── sm → md  (≥480px) – side-by-side illustrations ─────── */
@media (min-width: 480px) {
    .main         { padding: 24px 20px 40px; gap: 20px; }
    .dual-main    { padding: 18px 16px 40px; gap: 18px; }
    .card-body    { padding: 18px 16px 20px; gap: 14px; }

    .page-title   { font-size: 24px; }
    .page-subtitle { font-size: 14px; }
    .doc-badge    { font-size: 13px; }

    /* illustrations side by side */
    .illustration-section { flex-direction: row; gap: 14px; }

    /* restore indents now there is space */
    .or-row.indented       { margin-left: 34px; }
    .capture-btn.indented  { margin-left: 34px; }
    .warning-callout       { margin-left: 34px; }
    .ni-hint               { margin-left: 34px; }
    .uploaded-file-row     { margin-left: 34px; }

    /* buttons no longer need to be 100% wide */
    .capture-btn { width: auto; }

    /* larger preview card image */
    .preview-img,
    .pdf-preview { width: 100px; height: 100px; }

    /* guideline text back to normal size */
    .guideline-text { font-size: 14px; }
}

/* ── md → lg  (≥640px) – desktop layout ─────────────────── */
@media (min-width: 640px) {
    .main         { padding: 28px 0 40px; gap: 22px; }
    .dual-main    { padding: 20px 16px 40px; gap: 18px; }
    .card-body    { padding: 18px 16px 20px; gap: 14px; }

    .page-title   { font-size: 26px; }
    .upload-zone-content       { padding: 36px 24px; gap: 12px; }
    .upload-zone-content.small { padding: 22px 16px; gap: 8px; }

    .upload-text-primary { font-size: 15px; }
    .upload-icon         { width: 52px; height: 52px; }
    .upload-icon svg     { width: 24px; height: 24px; }

    .section-title { font-size: 15px; }
    .guidelines-title { font-size: 14px; }

    .preview-thumb    { width: 64px; height: 64px; }
    .preview-thumb-sm { width: 40px; height: 40px; }
    .file-icon-box    { width: 48px; height: 48px; }
    .preview-name     { font-size: 14px; }
    .uploaded-file-icon { width: 36px; height: 36px; }

    /* snap / swap buttons */
    .snap-btn { width: 56px; height: 56px; }
    .swap-btn { width: 40px; height: 40px; padding: 8px; }
}

/* ── Print / forced-color safety ───────────────────────── */
@media (prefers-reduced-motion: reduce) {
    .upload-zone-wrapper,
    .capture-btn-styled,
    .capture-btn,
    .remove-btn { transition: none; }
}